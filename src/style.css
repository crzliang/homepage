@tailwind base;
@tailwind components;
@tailwind utilities;

/* Tailwind 自定义工具：确保生成 .bg-hero（直接设置背景图像） */
@layer utilities {
    .bg-hero {
        background-image: url('/img/bg/1.webp');
    }
}

/* 全局重置：去除 body 默认外边距并使用 border-box 计算，减少因 padding/margin 导致的溢出 */
html,
body,
#app {
    margin: 0;
    padding: 0;
    height: 100%;
}

*,
*::before,
*::after {
    box-sizing: border-box;
}

/* 重新设计的全局样式 */
:root {
    --bg-1: #0f172a;
    /* slate-900 */
    --bg-2: #0b1220;
    /* deep navy */
    --card-bg: rgba(255, 255, 255, 0.06);
    --glass-border: rgba(255, 255, 255, 0.08);
    --accent: #7c3aed;
    /* purple-600 */
    --muted: rgba(255, 255, 255, 0.92);
    --muted-2: rgba(148, 163, 184, 0.9);
}

/* 浅色主题已移除；默认保留深色主题变量 */

html,
body,
#app {
    height: 100%;
}

/* 页面背景：细腻的渐变 + 通过伪元素实现的模糊图形 */
.min-h-screen {
    /* 背景由 Tailwind 的 bg-hero / bg-center / bg-cover 控制；保留深色回退色 */
    background-color: var(--bg-1);
    position: relative;
    overflow: hidden;
}

/* 浅色主题样式已删除；.min-h-screen 的主要背景规则位于上方并已包含图片与渐变 */

/* 居中卡片样式（放到 Tailwind 的 components layer，避免构建/清理时丢失） */
@layer components {
    .profile-card {
        /* 透明背景（保证能看到后面的内容以启用 backdrop-filter） */
        background: linear-gradient(180deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.02));
        /* 明确提供一个半透明回退色，某些构建/压缩器或浏览器在没有明确透明背景时可能不会渲染毛玻璃 */
        background-color: var(--card-bg);
        /* 当带有边框时，确保背景不被边框覆盖，从而更一致地显示模糊 */
        background-clip: padding-box;
        border: 1px solid var(--glass-border);
        /* 先写厂商前缀，再写标准属性，兼容 Safari/旧 WebKit */
        -webkit-backdrop-filter: blur(8px) saturate(120%);
        backdrop-filter: blur(8px) saturate(120%);
        /* 创建新的隔离上下文，避免被父级 stacking context 阻断 */
        isolation: isolate;
        padding: 2.25rem 1.5rem;
        /* 恢复为默认较安全的内距，避免在小屏产生滚动 */
        border-radius: 16px;
        box-shadow: 0 10px 36px rgba(2, 6, 23, 0.6);
    }
}

.profile-card .w-24,
.profile-card .w-36,
.profile-card .w-48 {
    margin: 0 auto;
}

.avatar img {
    display: block;
    width: 200px;
    height: 100%;
    object-fit: cover;
    border-radius: 9999px;
    /* 固定圆角，图片自身承担圆形裁切 */
}

/* 在较大屏幕上放大卡片内距以保留大卡片视觉 */
@media (min-width: 768px) {
    .profile-card {
        padding: 3rem 2rem;
    }
}

/* 昵称使用 Pacifico 字体（若可用） */
@font-face {
    font-family: 'Pacifico-Regular';
    src: url('/fonts/Pacifico-Regular.ttf') format('truetype');
    /* 保持 swap，以便首屏文字始终可见；可改为 `optional` 以进一步减少阻塞（tradeoff: 可能不替换回中文体） */
    font-display: swap;
    /* 明确字体的 style/weight，有助于浏览器选择替代字体并减少布局跳动 */
    font-style: normal;
    font-weight: 400;
    /* 可选：使用 font metrics override（ascent/descent/line-gap/size-adjust）
       来使自定义字体的布局指标与回退字体一致，从而减少 CLS。
       这是进阶优化，需要你用工具提取字体真实指标并填入百分比/数值。
       示例（仅作示范，未经过实际测量）：

    ascent-override: 90%;
    descent-override: 10%;
    line-gap-override: 0%;
    size-adjust: 100%;

       在不确定指标时，先不要启用上述覆盖，或把它们留在注释中以便日后填入。
    */
}

.nickname {
    font-family: 'Pacifico-Regular', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    font-size: 2rem;
    color: var(--muted);
    letter-spacing: 0.6px;
}

.quote {
    color: var(--muted-2);
    margin-top: 0.5rem;
    font-size: 0.95rem;
    font-style: italic;
}

/* 社交按钮 - 玻璃感圆形，悬停抬起和明显的焦点样式 */
.social-links {
    display: flex;
    gap: 1.75rem;
    /* 在社交图标间添加 28px 间距 */
}

.social-links a {
    width: 44px;
    height: 44px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 9999px;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.04), rgba(255, 255, 255, 0.02));
    border: 1px solid rgba(255, 255, 255, 0.06);
    color: var(--muted-2);
    box-shadow: 0 6px 20px rgba(2, 6, 23, 0.45);
    transition: transform .22s cubic-bezier(.2, .9, .2, 1), box-shadow .22s, background .22s;
    text-decoration: none;
    /* 去除社交链接下划线 */
}

.social-links a:hover {
    transform: translateY(-6px) scale(1.03);
    box-shadow: 0 14px 40px rgba(2, 6, 23, 0.6);
    color: white;
    background: linear-gradient(180deg, rgba(124, 58, 237, 0.14), rgba(124, 58, 237, 0.06));
}

.social-links a:focus {
    outline: 3px solid rgba(124, 58, 237, 0.18);
    outline-offset: 3px;
}

.social-links i {
    font-size: 1.05rem
}

/* 元数据链接 */
.profile-card .text-xs a {
    color: var(--muted-2);
    text-decoration: none;
}

.profile-card .text-xs a:hover {
    color: var(--muted);
    text-decoration: underline;
}

/* 元数据：更小字号并略微调整间距以便紧凑显示 */
.profile-card .metadata {
    font-size: 0.725rem;
    /* smaller than default text-xs (0.75rem) */
    letter-spacing: 0.2px;
}

.profile-card .metadata p {
    margin: 0 0;
    /* 行间的细微垂直间距 */
}

.profile-card .metadata a,
.profile-card .metadata a:focus,
.profile-card .metadata a:hover {
    text-decoration: none;
}

/* 调整社交图标与元数据之间的间距（覆盖 Tailwind 的工具类以获得更细粒度控制） */
.profile-card .social-links {
    margin-bottom: 1rem;
    /* smaller than Tailwind mb-4 (1rem) */
}

.psbimg {
    max-width: 16px;
    height: auto;
}


/* 响应式微调 */
@media (min-width:768px) {
    .profile-card {
        padding: 2.75rem 2rem;
        border-radius: 20px;
    }

    .nickname {
        font-size: 2.25rem;
    }
}

/* 当用户首选减少动画时：略微禁用过渡以减少运动感 */
@media (prefers-reduced-motion: reduce) {
    .social-links a {
        transition: none;
    }
}

/* 浅色主题下卡片样式已移除 */

/* 浮动的主题切换按钮 */
.theme-toggle {
    position: fixed;
    top: 1rem;
    right: 1rem;
    width: 40px;
    height: 40px;
    display: inline-grid;
    place-items: center;
    border-radius: 9999px;
    background: rgba(255, 255, 255, 0.04);
    color: var(--muted-2);
    border: 1px solid rgba(255, 255, 255, 0.06);
    box-shadow: 0 6px 18px rgba(2, 6, 23, 0.45);
    cursor: pointer;
    transition: transform .18s ease, background .18s ease, color .18s ease, box-shadow .18s ease;
}

.theme-toggle:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 30px rgba(2, 6, 23, 0.5);
}

.theme-toggle:focus {
    outline: 3px solid rgba(124, 58, 237, 0.16);
    outline-offset: 3px;
}